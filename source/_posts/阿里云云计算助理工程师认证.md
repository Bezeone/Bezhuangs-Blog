---
ptitle: 阿里云云计算助理工程师认证（ACA）
date: 2021-03-29
updated: 2021-04-01    
tags: []
group: going
categories: 云计算与应用开发
references:
  - title: 阿里云云计算助理工程师认证（ACA）课程
    url: https://edu.aliyun.com/course/547
---

>阿里云基础认证（ACA -  Alibaba Cloud Certified Associate）是面向使用阿里云基础产品的专业技术认证，主要涉及阿里云的计算、存储、网络、安全类的核心产品。 阿里云云计算助理工程师的培训和认证的过程能够提升个人对云计算产品技术的理解，可以对这些产品进行基本的日常管理，也可以基于这些产品进行应用的部署，从而证明个人在云计算领域的专业能力，获得更多就业机会。以下为我在参加阿里云云计算助理工程师认证（ACA）课程时记录的笔记。

<!--more-->

### 阿里云简介

#### 云计算的概念

- 传统IT部署方式：自建机房（耗时耗力、人员和设备等成本高、不利于扩容等）
- 云计算是一种新的服务模式（计算资源池、网络资源池、存储资源池）
- 云计算按照拥有者和使用者的不同主要分为三种部署模式
  - 专有云：也叫私有云，属于企业内部自行构建的云环境
  - 公有云：云服务商提供云计算服务，用户通过互联网进行连接和使用
  - 混合云：企业内部云与共有云互通，具有私有云的私密性兼具公有云的灵活性
- 云计算的服务模式：云计算根据对用户所提供的服务不同划分了多种不同的服务模式
  - IaaS：基础设施即服务，为用户直接提供计算资源、存储资源、网络资源等，用户需要自行构建自身系统，可操控性最高，一般云服务商都会提供该服务模式
  - PaaS：平台即服务，为开发者提供按需开发环境，主要针对开发者用户提供一个开发、测试等使用云环境
  - SaaS：软件即服务，为用户提供给按需软件服务，云服务商管理和提供软件，用户直接使用云服务商软件

#### 阿里云云产品

- 阿里云创立于2009年，是全球领先的云计算及人工智能科技公司，提供了丰富的产品类型以满足用户各场景的使用需求
- 弹性计算：云服务器、高性能计算HPC、弹性编排
- 存储服务：云存储、智能存储、混合云存储
- 网络：云上网络、跨地域网络、混合云网络
- 数据库：关系型数据库、NoSQL数据库、数据库生态工具
- CDN与边缘：CDN、SCDN、DCDN
- 安全：云安全、业务安全
- 阿里云体系架构：数据中心 -> Linux -> 通用云服务市场&行业解决方案

#### 阿里云基础架构

- 地域（Region）：阿里云基于地理位置进行划分，资源创建成功后不能修改地域。不同地域提供的阿里云资源也会略有不同
- 可用区（Zone）：同一地域内，电力和网络互相独立的物理区域。同一可用区内实例之间的网络延时更小
- 每个地域完全独立。每个可用区完全隔离，但同一个地域内的可用区之间使用低时延链路相连
- 选择地域时，需要考虑的因素
  - 地理位置：根据目标用户所在的地理位置选择地域
  - 阿里云产品之间的关系
  - 资源的价格
  - 经营许可备案
- 选择可用区时，需要考虑的因素
  - 在同一地域内可用区与可用区之间内网互通，可用区之间能做到故障隔离
  - 是否将实例放在同一可用区内，主要取决于对容灾能力和网络延时的要求
- 完整的服务体系：自助服务、技术支持、服务运营、培训认证、生态服务、电话支持

### 阿里云弹性计算

#### ECS的概念

- 云服务器（Elastic Compute Service）是阿里云提供的性能卓越、稳定可靠、弹性扩展的IaaS（Infrastructure as a Service）级别云计算服务
- 云服务器ECS免去了采购IT硬件的前期准备，实现计算资源的即开即用和弹性伸缩
- 阿里云ECS持续提供创新型服务器，解决多种业务需求，助力企业的业务发展
- 阿里云ECS在部署前需要进行规划，需要考虑的因素
  - 地域和可用区：地域一旦成功创建实例后，无法更换地域
  - 高可用性：通过快照实现数据备份，通过跨可用区、部署集、负载均衡（Server Load Balancer）等实现应用容灾
  - 安全方案：使用ECS的安全组，控制ECS实例的出入网访问策略以及端口监听状态
  - 网络规划：自行规划私网IP，全面支持新功能和新型实例规格
- ECS适用场景
  - 企业官网或轻量的Web应用
  - 多媒体以及高并发应用或网站：与对象存储OSS搭配
  - 高I/O要求数据库
  - 访问量波动剧烈的应用或网站
  - 大数据及实时在线或离线分析
  - 机器学习和深度学习等AI应用：GPU计算型实例

#### ECS的产品优势

- 阿里云弹性计算10年深厚技术积淀，技术领先、性能优异、稳如磐石
  - 稳定、弹性、高安全、高性能、易用性、可拓展性
- 云服务器ECS vs 普通IDC
  - 易用性：在线更换操作系统，Web在线管理
  - 安全性：三副本数据设计，用户自定义快照，快速自动恢复，有效阻止MAC欺骗和ARP攻击，有效防护DDoS攻击，端口入侵扫描、挂马扫描、漏洞扫描等
  - 灵活性：在线升级配置、带宽升降自由、在线使用负载均衡

#### ECS的实例规格

- 实例：一台云服务器ECS实例等同于台虚拟机，包含vCPU、内存、操作系统、网络、磁盘等最基础的计算组件，可以方便地定制，更改实例的配置
- 实例规格：根据业务场量，ECS实例可以分为多个规格族，同一个规格族里，根据vCPU和内存的配置，可以分为多种不同的规格，不同实规格具有不同vCPU和内存等配置，包含物理CPU型号、主频等。某些软件或应用对实例规格的配置有要求
- 系统存储：一台ECS实例必须包合一块系统盘，用来存储操作统和核心配置，镜像主要用于初始化系统盘，决定ECS实例的操作系统和初始软件配置
- 网络类型：ECS实例区分网络类型，实例在相同的网络中，例如一个VPC，可以使用私网地址通过内网通信
- 实例的生命周期：创建实例 -> 准备中 -> 启动中 -> 运行中 -> 停止中 -> 已停止 -> 删除实例
- 为应对不同业务场景，阿里云ECS提供多种实例规格族
  - 通用型（g系列）、计算型（c系列）、内存型（r系列）、大数据型（d系列）
  - 本地SSD型（i系列）、高主频计算型（hfc、hfg、hfr系列）

#### 弹性裸金属服务器（神龙）

- 弹性裸金属服务器（ECS Bare Metal Instance）基于阿里云完全自主研发的下一代虚拟化技术而打造的新型计算类服务器产品，兼具虚拟机的弹性和物理机的性能及功能特性
- 与上一代虚拟化技术相比，下一代虚拟化技术不仅保留了普通云服务器的弹性体验，而且保留了物理机的性能与特性，全面支持嵌套虚拟化技术
- EMB弹性裸金属服务器特点
  - 弹性裸金属服务器融合了物理机与云服务器的各自优势，实现超强超稳的计算能力。业务应用可以直接访问弹性裸服务器的处理器和内存，无需任何虚拟化开销
  - 弹性裸金属服务器通过自研芯片和自研Hypervisor系统软件，打造了全球领先的深度融合物理机和虚拟机特性的创新型计算架构。能与阿里云产品家族中的其他计算产品无缝对接
- EMB弹性裸金属服务器优势
  - 用户独占计算资源
  - 加密计算：芯片级可信执行环境
  - 兼容多种专有云：具有再次虚拟化的能力
  - 异构指令集处理器支持：零成本支持ARM等其他指令集处理器
- EMB vs 物理机 vs ECS
  - ECS不具备免性能损失、免特性损失、免资源争抢等计算特性
  - 物理机不支持云存储特性、不支持网络兼容等特性
- 弹性裸金属服务器适用场景：游戏场景、金融加密场景、SCC超级计算集群

#### ECS的使用

- 基础配置（付费模式、地域和可用区、实例规格）-> 网络与安全（专用网络、公网IP、安全组）-> 系统配置（登录凭证、登录密码）
- ECS镜像提供了创建ECS实例所需的信息。镜像文件相当于副本文件，包含了一块或多块云盘中的所有数据
  - 公共镜像、自定义镜像、共享镜像、镜像市场
- ECS的连接方式
  - Workbench、VNC、putty等客户端工具
  - SSH命令连接
  - SSH Control Lite、JuiceSSH等App 
  - 除VNC外，其它连接方式均要求待连接实例分配了固定公网IP或EIP 

### 阿里云存储服务

#### OSS的概念

- 常见的存储结构
  - 块存储：以数据块为存储单位，需要分区格式化才能使用（直接访问存储DAS、存储区域网络SAN等）
  - 文件存储：以文件为存储单位，由文件存储服务器NAS提供文件访问服务（CIFS、NFS等）
  - 对象存储：以对象为存储单位，扁平化结构（大数据存储）
- 阿里云对象存储OSS（Object Storage Service）是阿里云提供的海量、安全、低成本、高可靠的云存储服务，可以在任何应用、任何时间、任何地点存储和访问任意类型的数据
- 存储类型（Storage Class）：OSS提供标准、低频访问、归档三种存储类型，全面覆盖从热到冷的各种数据存储场景
- 存储空间（Bucket）：用于存储对象（Object）的容器，所有对象都必须隶属于某个存储空间
- 对象（Object）：OSS存储数据的基本单元，也被称为OSS的文件。对象由元信息（Object Meta）、用户数据（Data）和文件名（Key）组成
- 地域（Region）：OSS的数据中心所在物理位置，可以根据费用、请求来源等选择合适的地域创建Bucket
- 访问域名（Endpoint）：OSS对外服务的访问域名
- 访问密钥（AccessKey）：AK，访问身份验证中用到的AccessKey Id和AccessKey Secret

#### OSS的优势和适用场景

- 方便、快捷的使用方式
  - 提供标准的RESTful API接口、丰富的SDK包、客户端工具、控制台
  - 不限制存储空间大小
  - 支持数据生命周期管理
- 强大、灵活的安全机制
  - 灵活的鉴权、授权机制
  - 提供用户级别资源隔离机制和多集群同步机制
- 丰富、强大的增值服务
  - 图片处理、音视频转码
  - 互联网访问加速、内容加速分发CDN
- 数据冗余机制
  - OSS采用数据冗余存储机制
  - OSS Object操作具有强一致性
  - OSS的冗余存储机制
- 阿里云OSS vs 自建对象存储：可靠、安全、低成本、智能存储

#### OSS的使用

- 阿里云OSS将数据文件以对象（Object）的形式上传到存储空间（Bucket）中
  - 创建一个或者多个存储空间，向每个存储空间中添加一个或多个文件
  - 通过获取已上传文件的覅之进行文件的分享和下载
  - 通过修改存储空间的读写权限（ACL）来设置访问权限
  - 通过阿里云管理控制台、各种便捷工具以及丰富的SDK包执行基本和高级OSS操作
- 开通阿里云OSS服务后，需要首先创建存储空间（Bucket）来存储文件
  - Bucket名称（唯一性）
  - 区域（创建后无法更换）：如需要通过ECS内网访问OSS，需选择与ECS相同的地域
  - 存储类型：标准存储（经常访问）、低频访问（长期存储、较少访问）、归档存储（长期存储、极少访问）
  - 同城冗余存储：用户数据以冗余的方式存储在同一区域的3个可用区（AZ）中
  - 版本控制
  - 读写权限：私有（private）、公共读（public-read）、公共读写（public-read-write）

- 创建了存储空间（Bucket）后，可以上传任何类型的文件（Object）到存储空间中
  - 可使用OSS图形化管理工具ossbrowser将文件上传至OSS
  - 可使用OSS命令行工具ossutil将文件上传至OSS
  - OSS提供多种语言的API和SDK包，快速进行二次开发

#### 块存储的概念

- 块存储是阿里云为云服务器ECS提供的块设备产品，具有高性能和低延时的特点，支持随机读写
- 可以像使用物理硬盘一样格式化并建立文件系统来使用块存储，满足大部分同意业务场景下的数据存储需求
- 衡量块存储产品的性能指标主要包括IOPS、吞吐量和访问时延
  - IOPS（Input/Output Operation per Second）：每秒能处理的I/O个数，表示块存储处理读写（输入/输出）的能力，单位为次
  - 吞吐量（Throughput）：单位时间内可以成功传输的数据数量，单位为MB/s
  - 访问时延（Latency）：块存储处理一个I/O需要的实践，单位为s、ms或微秒
  - 容量（Capacity）：容量是指存储空间大小，单位为TiB、GiB、MiB或者KiB，容量无法衡量块存储性能
- 阿里云块存储的数据安全：读写稳定性（分布存储）、主动备份（快照）、数据擦除机制、数据加密（AES-256）

#### 块存储的分类

- 云盘：数据块级别的块存储产品。云盘采用多副本的分布式机制，具有低时延、高性能、持久性、高可靠等性能，支持随时创建、扩容以及释放
- 本地盘：基于云服务器ECS所在物理机（宿主机——上的本地硬盘设备，为ECS实例提供本地存储访问能力。为对存储I/O性能和海量存储性价比有极高要求的业务场景而设计的产品。具有低时延、高随机IOPS、高吞吐量、高性价比等优势
- 本地盘来自单台物理机，数据可靠性取决于物理机的可靠性，存在单点故障风险
- 云盘类似硬盘，可以对挂载到ECS实例上的云盘做分区、格式化、创建文件系统等操作，并持久化存储数据
- 云盘根据性能分类
  - ESSD云盘：基于新一代分布式块存储架构的超高性能云盘产品，结合25GE网络和RDMA技术，单盘可提供高达100万的随机读写能力和更低的单路时延能力
  - SSD云盘：具备稳定的高随机读写性能、高可靠性的高性能云盘产品
  - 高效云盘：具备高性价比、中等随机读写性能、高可靠性的云盘产品
  - 普通云盘：具备高可靠性、一般随机读写性能的云盘产品
- 云盘的数据类型
  - 系统盘：不可共享访问。初始化系统盘时，由镜像确定操作系统类型和应用数据，系统盘一定是云盘。只能随实例创建，生命周期与挂载的ECS实例相同
  - 数据盘：常用于存储应用数据，可以与ECS实例同时创建，也可以单独创建。数据盘可以时云盘，也可以是其他类型块存储（本地盘），单台ECS实例上限16
- 一块云盘只能挂载到同一地域、同一可用区的一台ECS实例

#### 块存储与对象存储

- 阿里云数据存储场景产品：块存储、对象存储OSS、文件存储NAS

  |          | 块存储                                                       | OSS                                                      |
  | -------- | ------------------------------------------------------------ | -------------------------------------------------------- |
  | 数据模型 | 文件系统是一种典型的树状索引结构                             | 分布式的对象存储服务，Key-Value对形式                    |
  | 数据获取 | 先访问文件夹目录再在该目录下查找文件                         | 根据Object的名称（Key）唯一的获取该Object的内容          |
  | 优势     | 支持文件的修改，文件夹的操作                                 | 支持海量的用户并发访问                                   |
  | 劣势     | 受限于单个设备的性能，访问越深的目录消耗的资源越大，操作拥有很多文件的目录也会非常慢 | Object不支持修改，哪怕修改一个字节也需要重新上传整个目录 |

#### 块存储的使用

- 云服务器ECS不支持单独创建系统盘

- 数据盘只能挂载同一可用区的ECS

- 不支持合并多块云盘，提前做好云盘数量和容量的规划

- 已创建的多块云盘，不建议制作LVM（Logic Volume Manager）逻辑卷

- 挂载数据盘

  - 可以将单独创建的云盘、从ECS实例上卸载下来的系统盘挂载到ECS实例上，作为数据盘使用
  - 被挂载的实例和云盘在同一可用区
  - 被挂载的实例状态为运行中（Running）或已停止（Stopped），不能为已锁定（Locked）
  - 云盘的状态为待挂载（Available）
  - 随ECS实例一起创建的云盘，和为包年包月实例创建的包年包月数据盘无需挂载
  - 一块云盘只能挂载到一台ECS实例上，一台ECS实例最多能挂载16块云盘作数据盘用

- 分区格式化数据盘

  - 阿里云块存储支持的分区格式包括MBR（Master Boot Record）和GPT（Globally Unique Identifier Partition Table）
  - MBR只支持处理不大于2TiB的容量，且只支持划分4个分区，如果需要使用大于2TiB的数据盘，必须采用GPT格式

  | 操作系统 | 分区工具      | 分区格式 | 文件系统                     |
  | -------- | ------------- | -------- | ---------------------------- |
  | Windows  | 磁盘管理      | MBR、GPT | NTFS、fat                    |
  | Linux    | fdisk、parted | MBR、GPT | vfat、ext3、ext4、xfs、btrfs |

  - 在Linux系统中，分区和格式化后还需要使用mount命令将分区挂载至空白目录，并将新分区挂载信息写入至 `/etc/fstab` 文件中
  - 具体操作

  ```bash
  fdisk –l  //查看分区信息
  fdisk /dev/vdb  //分区管理命令
  p  //查看分区表信息
  n  //创建分区
  w  //保存分区表
  partx  //同步磁盘信息
  mkfs.ext4 /dev/vdb1  //格式化分区为ext4格式
  mkdir /mnt/data  //创建空白目录挂载新磁盘分区
  mount /dev/vdb1 /mnt/data  //挂载分区至空白目录
  df –h | grep vdb1  //查看分区挂载信息
  echo “/dev/vdb1 /mnt/data ext4 defaults 0 0” >> /etc/fstab  //设置开机自动挂载
  mount –a  //验证/etc/fstab文件的正确性
  ```

- 卸载云盘

  ```bash
  umount /dev/vdb1  //在ECS中卸载分区
  vim /etc/fstab  //在文档中将自己新增挂载记录删除
  ```

  - 最后在控制台卸载云盘

-  在MBR磁盘管理中主分区、扩展分区和逻辑分区的区别

  - 主分区：一块硬盘最多只能创建4个，可以放置任何类型数据
  - 扩展分区：一块硬盘最多只能创建1个，不能放置任何数据，需要进一步划分逻辑分区后才能使用
  - 逻辑分区：基于扩展分区进行创建，空间由扩展分区划分出来，可以放置普通数据，不能存放计算机的启动引导文件

### 阿里云网络

#### VPC的概念

- 